<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Invoice</title>
    <style type="text/css">
        /* ================================================================
           GodownOS — Minimalist PDF Invoice Template
           CSS custom properties and flexbox deliberately avoided.
           OpenHTMLToPDF supports CSS 2.1 + limited CSS 3.
        ================================================================ */

        /* Colour palette (hardcoded hex — no var()) */
        /* --bg:        #F8F8F5   */
        /* --surface:   #FFFFFF   */
        /* --border:    #E2E2DC   */
        /* --accent:    #1A7A6E   */
        /* --accent-lt: #EAF5F3   */
        /* --text-dark: #1C1C1C   */
        /* --text-mid:  #5A5A5A   */
        /* --text-light:#9A9A9A   */

        * {
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            font-size: 13px;
            color: #1C1C1C;
            background-color: #F8F8F5;
        }

        /* ── Page wrapper ────────────────────────────────────────────── */
        .page {
            width: 750px;
            margin: 0 auto;
            background-color: #FFFFFF;
            border: 1px solid #E2E2DC;
        }

        /* ── Header: use a full-width table ─────────────────────────── */
        .header {
            background-color: #1A7A6E;
            padding: 28px 36px 24px 36px;
        }

        .header-table {
            width: 100%;
            border-collapse: collapse;
        }

        .header-table td {
            vertical-align: top;
            padding: 0;
            background-color: #1A7A6E;
            /* keep cell bg consistent */
        }

        .header-table .col-right {
            text-align: right;
            width: 200px;
        }

        .company-name {
            font-size: 20px;
            font-weight: bold;
            color: #FFFFFF;
            letter-spacing: -0.3px;
        }

        .company-meta {
            font-size: 11px;
            color: #C8E8E5;
            margin-top: 5px;
            line-height: 1.7;
        }

        .invoice-label {
            font-size: 26px;
            font-weight: normal;
            color: #FFFFFF;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .invoice-number {
            font-size: 11px;
            color: #C8E8E5;
            margin-top: 6px;
        }

        .status-badge {
            display: inline;
            background-color: #FFFFFF;
            color: #1A7A6E;
            font-size: 9px;
            font-weight: bold;
            letter-spacing: 1.5px;
            padding: 2px 9px;
            text-transform: uppercase;
            border-radius: 10px;
        }

        /* ── Meta section (Bill To / Dates) ─────────────────────────── */
        .meta-section {
            padding: 24px 36px;
            border-bottom: 1px solid #E2E2DC;
        }

        .meta-table {
            width: 100%;
            border-collapse: collapse;
        }

        .meta-table td {
            vertical-align: top;
            padding: 0 20px 0 0;
        }

        .meta-table td:last-child {
            padding-right: 0;
        }

        .meta-label {
            font-size: 9px;
            font-weight: bold;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            color: #9A9A9A;
            margin-bottom: 5px;
        }

        .meta-value {
            font-size: 13px;
            font-weight: bold;
            color: #1C1C1C;
            line-height: 1.6;
        }

        .meta-value-sub {
            font-size: 11px;
            font-weight: normal;
            color: #5A5A5A;
            line-height: 1.6;
        }

        /* ── Items table ─────────────────────────────────────────────── */
        .items-section {
            padding: 24px 36px;
        }

        .items-table {
            width: 100%;
            border-collapse: collapse;
        }

        .items-table thead tr {
            background-color: #EAF5F3;
            border-bottom: 2px solid #1A7A6E;
        }

        .items-table thead th {
            padding: 9px 10px;
            font-size: 9px;
            font-weight: bold;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            color: #1A7A6E;
            text-align: left;
        }

        .items-table thead th.col-num {
            text-align: right;
        }

        .items-table tbody tr {
            border-bottom: 1px solid #E2E2DC;
        }

        .items-table tbody tr.last-row {
            border-bottom: none;
        }

        .items-table tbody td {
            padding: 11px 10px;
            color: #1C1C1C;
            font-size: 12px;
            vertical-align: middle;
        }

        .items-table tbody td.col-num {
            text-align: right;
            color: #5A5A5A;
        }

        .items-table tbody td.col-total {
            text-align: right;
            font-weight: bold;
            color: #1C1C1C;
        }

        /* ── Totals block ────────────────────────────────────────────── */
        .totals-section {
            padding: 0 36px 24px 36px;
        }

        .totals-outer {
            width: 100%;
            border-collapse: collapse;
        }

        .totals-outer td.spacer {
            width: 60%;
        }

        .totals-inner {
            width: 100%;
            border-collapse: collapse;
        }

        .totals-inner td {
            padding: 5px 0;
            font-size: 12px;
            color: #5A5A5A;
        }

        .totals-inner td.lbl {
            text-align: left;
        }

        .totals-inner td.val {
            text-align: right;
            font-weight: 500;
        }

        .totals-inner tr.grand td {
            border-top: 2px solid #1A7A6E;
            padding-top: 9px;
            color: #1C1C1C;
            font-size: 15px;
            font-weight: bold;
        }

        /* ── Notes ───────────────────────────────────────────────────── */
        .notes-section {
            background-color: #EAF5F3;
            border-top: 1px solid #E2E2DC;
            padding: 18px 36px;
        }

        .notes-label {
            font-size: 9px;
            font-weight: bold;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            color: #1A7A6E;
            margin-bottom: 5px;
        }

        .notes-text {
            font-size: 11px;
            color: #5A5A5A;
            line-height: 1.6;
        }

        /* ── Footer ──────────────────────────────────────────────────── */
        .footer {
            background-color: #1C1C1C;
            color: #9A9A9A;
            padding: 12px 36px;
            font-size: 10px;
            text-align: center;
            letter-spacing: 0.3px;
        }
    </style>
</head>

<body>
    <div class="page">

        <!-- ════════════ HEADER ════════════ -->
        <div class="header">
            <table class="header-table">
                <tr>
                    <td>
                        <div class="company-name" th:text="${invoice.companyName}">GodownOS Technologies</div>
                        <div class="company-meta">
                            <span th:text="${invoice.companyAddress}">123 Warehouse Lane, Mumbai, MH 400001</span><br />
                            <span th:text="${invoice.companyEmail}">billing@godownos.com</span>
                        </div>
                    </td>
                    <td class="col-right">
                        <div class="invoice-label">Invoice</div>
                        <div class="invoice-number">
                            # <span th:text="${invoice.invoiceNumber}">INV-0001</span>
                        </div>
                        <div style="margin-top: 8px;">
                            <span class="status-badge">Due</span>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <!-- ════════════ META (Bill To / Dates) ════════════ -->
        <div class="meta-section">
            <table class="meta-table">
                <tr>
                    <!-- Bill To -->
                    <td style="width: 50%;">
                        <div class="meta-label">Bill To</div>
                        <div class="meta-value" th:text="${invoice.customerName}">Rajesh Kumar</div>
                        <div class="meta-value-sub" th:text="${invoice.customerEmail}">rajesh@example.com</div>
                        <div class="meta-value-sub" th:text="${invoice.customerAddress}">456 Market St, Pune</div>
                    </td>
                    <!-- Invoice Date -->
                    <td style="width: 25%;">
                        <div class="meta-label">Invoice Date</div>
                        <div class="meta-value" th:text="${#temporals.format(invoice.invoiceDate, 'dd MMM yyyy')}">24
                            Feb 2026</div>
                    </td>
                    <!-- Due Date -->
                    <td style="width: 25%;">
                        <div class="meta-label">Due Date</div>
                        <div class="meta-value" th:text="${#temporals.format(invoice.dueDate, 'dd MMM yyyy')}">10 Mar
                            2026</div>
                    </td>
                </tr>
            </table>
        </div>

        <!-- ════════════ LINE ITEMS ════════════ -->
        <div class="items-section">
            <table class="items-table">
                <thead>
                    <tr>
                        <th style="width: 5%;">#</th>
                        <th style="width: 52%;">Description</th>
                        <th class="col-num" style="width: 10%;">Qty</th>
                        <th class="col-num" style="width: 16%;">Unit Price (&#8377;)</th>
                        <th class="col-num" style="width: 17%;">Total (&#8377;)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item, iterStat : ${invoice.items}" th:classappend="${iterStat.last} ? 'last-row'">
                        <td th:text="${iterStat.count}">1</td>
                        <td th:text="${item.description}">Storage Service</td>
                        <td class="col-num" th:text="${item.quantity}">10</td>
                        <td class="col-num" th:text="${#numbers.formatDecimal(item.unitPrice, 1, 'COMMA', 2, 'POINT')}">
                            500.00</td>
                        <td class="col-total" th:text="${#numbers.formatDecimal(item.total, 1, 'COMMA', 2, 'POINT')}">
                            5,000.00</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ════════════ TOTALS ════════════ -->
        <div class="totals-section">
            <table class="totals-outer">
                <tr>
                    <td class="spacer">&#160;</td>
                    <td>
                        <table class="totals-inner">
                            <tr>
                                <td class="lbl">Subtotal</td>
                                <td class="val">
                                    &#8377;&#160;<span
                                        th:text="${#numbers.formatDecimal(invoice.subtotal, 1, 'COMMA', 2, 'POINT')}">0.00</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="lbl">GST (18%)</td>
                                <td class="val">
                                    &#8377;&#160;<span
                                        th:text="${#numbers.formatDecimal(invoice.tax, 1, 'COMMA', 2, 'POINT')}">0.00</span>
                                </td>
                            </tr>
                            <tr class="grand">
                                <td class="lbl">Grand Total</td>
                                <td class="val">
                                    &#8377;&#160;<span
                                        th:text="${#numbers.formatDecimal(invoice.grandTotal, 1, 'COMMA', 2, 'POINT')}">0.00</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>

        <!-- ════════════ NOTES ════════════ -->
        <div class="notes-section" th:if="${invoice.notes != null and !invoice.notes.isEmpty()}">
            <div class="notes-label">Notes</div>
            <div class="notes-text" th:text="${invoice.notes}">Thank you for your business.</div>
        </div>

        <!-- ════════════ FOOTER ════════════ -->
        <div class="footer">
            Generated by GodownOS Invoice System &#160;|&#160;
            This is a computer-generated document &#8212; no signature required.
        </div>

    </div>
</body>

</html>